(()=>{"use strict";!function(s){var e={run:!1,pause:!1,ids:null,length:null,post_type:null};function t(t){var o={post_type:e.post_type,ids:e.ids.slice(0,10),nonce_code:bpr_ajax.nonce,action:"remove_posts"};s.ajax({url:bpr_ajax.url,data:o,type:"POST",success:function(s){var e=JSON.parse(s);t(e)}})}function o(n){var l,r,a=s("#posts-remover-summary"),i=s("#posts-remover-log ol"),p=document.getElementById("posts-remover-log");if(e.run){e.ids=e.ids.slice(10),l=s(".progressbar"),r=(100*(e.length-e.ids.length)/e.length).toFixed(2),l.css({width:r+"%",opacity:1}).find(".num").text(r);for(const s in n.log)i.append("<li>"+n.log[s]+"</li>");if(p.scrollTop=p.scrollHeight,!e.ids.length)return a.html("<p>Posts removed</p>"),e.run=!1,e.ids=null,e.length=null,e.post_type=null,s(".loading").removeClass("loading"),void s(".glare").removeClass("glare");t(o)}}function n(n){var l=s("#posts-remover-summary");if(n.status){if(l.html("<p>Found "+n.ids.length+" posts</p>"),!n.ids.length)return;e.ids=n.ids,e.run=!0,e.length=n.ids.length,e.post_type=n.post_type,t(o)}else l.html("<p>Select post type first</p>")}s((function(){var e,t;e=n,(t=s("#posts-remover-form")).on("submit",(function(o){if(o.preventDefault(),!t.hasClass("loading")){t.addClass("loading");var n=t.serialize()+"&action=get_posts_ids&nonce_code="+bpr_ajax.nonce;s.ajax({url:bpr_ajax.url,data:n,type:"GET",success:function(s){var t=JSON.parse(s);e(t)}})}}))}))}(jQuery)})();